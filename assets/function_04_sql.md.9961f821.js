import{o as n,c as t,a as s}from"./app.9e17d901.js";const a='{"title":"SQL 函数","description":"","frontmatter":{},"headers":[{"level":2,"title":"range_date","slug":"range-date"},{"level":2,"title":"in_array","slug":"in-array"}],"relativePath":"function/04_sql.md","lastUpdated":1625465768528}',e={},p=s('<h1 id="sql-函数"><a class="header-anchor" href="#sql-函数" aria-hidden="true">#</a> SQL 函数</h1><hr><h4 id="语法"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法</h4><div class="language-js"><pre><code><span class="token comment">// 函数名支持驼峰和下划线方式</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span>函数名或编码<span class="token punctuation">,</span> 参数<span class="token number">1</span><span class="token punctuation">,</span> 参数<span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">)</span>\n</code></pre></div><table><thead><tr><th>函数名</th><th style="text-align:center;">编码</th><th style="text-align:right;">描述</th></tr></thead><tbody><tr><td>range_date</td><td style="text-align:center;">100</td><td style="text-align:right;">时间范围</td></tr><tr><td>in_array</td><td style="text-align:center;">200</td><td style="text-align:right;">在集合之内</td></tr></tbody></table><h2 id="range-date"><a class="header-anchor" href="#range-date" aria-hidden="true">#</a> range_date</h2><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">类型</th><th style="text-align:right;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:center;">integer</td><td style="text-align:right;">1 当日 2 当月 3 当年</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">string</td><td style="text-align:right;">需要拼接的字符串</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:center;">date</td><td style="text-align:right;">日期</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:center;">integer</td><td style="text-align:right;">日期偏移，粒度根据参数 1 进行偏移</td></tr></tbody></table><div class="language-js"><pre><code><span class="token comment">// 当日： t.time &gt;= &#39;2021-07-02&#39; and t.time &lt; &#39;2021-07-03&#39;</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span><span class="token string">&#39;RangeDate&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;t.time&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2021-07-02&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 当月： t.time &gt;= &#39;2021-07-01&#39; and t.time &lt; &#39;2021-08-01&#39;</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span><span class="token string">&#39;rangeDate&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;t.time&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2021-07-02&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 下个月：t.time &gt;= &#39;2021-08-01&#39; and t.time &lt; &#39;2021-09-01&#39;</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span><span class="token string">&#39;range_date&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;t.time&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2021-07-02&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 去年：t.time &gt;= &#39;2020-01-01&#39; and t.time &lt; &#39;2021-01-01&#39;</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;t.time&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2021-07-02&#39;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="in-array"><a class="header-anchor" href="#in-array" aria-hidden="true">#</a> in_array</h2><table><thead><tr><th style="text-align:center;">参数</th><th style="text-align:center;">类型</th><th style="text-align:right;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:center;">string</td><td style="text-align:right;">需要拼接的字符串</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">Array</td><td style="text-align:right;">数组</td></tr></tbody></table><div class="language-js"><pre><code><span class="token comment">// 返回空字符串</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span><span class="token string">&#39;InArray&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;t.id&#39;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 返回空字符串</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span><span class="token string">&#39;inArray&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;t.id&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// t.id IN (&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span><span class="token string">&#39;in_array&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;t.id&#39;</span><span class="token punctuation">,</span> <span class="token string">&quot;&#39;a&#39;,&#39;b&#39;,&#39;c&#39;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// t.id IN ( &#39;1&#39;,&#39;2&#39;,&#39;3&#39; )</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span><span class="token string">&#39;in_array&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;t.id&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;3&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// t.id IN ( 1,2,3 )</span>\n<span class="token function">GwSql</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&#39;t.id&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div>',11);e.render=function(s,a,e,c,o,l){return n(),t("div",null,[p])};export default e;export{a as __pageData};
